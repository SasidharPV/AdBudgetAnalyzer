<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Plan and analyze job advertisement budget across multiple platforms with visual breakdowns and exports." />
    <title>Ad Budget Analyzer - Plan Your Job Ad Spend</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%231e3a8a'/><text x='50' y='68' font-size='50' text-anchor='middle' fill='white'>ğŸ“Š</text></svg>" type="image/svg+xml" />
  </head>
  <body>
    <div class="app-shell">
      <header class="hero">
        <div>
          <p class="eyebrow">Simple â€¢ Fast â€¢ GitHub Pages Ready</p>
          <h1>Ad Budget Analyzer</h1>
          <p class="subtitle">
            Plan job-ad posting costs by platform and campaign duration with visual analytics and exports.
          </p>
        </div>
      </header>

      <nav class="tabs" aria-label="Main tabs">
        <button class="tab-button active" data-tab="analyzer">Budget Analysis</button>
        <button class="tab-button" data-tab="config">Configuration</button>
      </nav>

      <main>
        <section class="panel market-panel">
          <h2>Market Settings</h2>
          <p class="subtitle">Select your target market - this applies to all calculations and exports.</p>
          <div class="form-grid compact">
            <label>
              Country Market
              <select id="marketCountry">
                <option value="United Kingdom">United Kingdom</option>
                <option value="United States">United States</option>
                <option value="India">India</option>
                <option value="Australia">Australia</option>
                <option value="Singapore">Singapore</option>
                <option value="United Arab Emirates">United Arab Emirates</option>
              </select>
            </label>
            <label>
              Currency
              <select id="marketCurrency">
                <option value="GBP">GBP (Â£)</option>
                <option value="USD">USD ($)</option>
                <option value="INR">INR (â‚¹)</option>
                <option value="AUD">AUD (A$)</option>
                <option value="SGD">SGD (S$)</option>
                <option value="AED">AED (Ø¯.Ø¥)</option>
              </select>
            </label>
          </div>
        </section>

        <section id="analyzer" class="tab-panel active">
          <div class="panel">
            <h2>Campaign Inputs</h2>
            <form id="analysisForm" class="form-grid">
              <label>
                Campaign name
                <input type="text" id="campaignName" placeholder="e.g., Senior Backend Engineer" />
              </label>
              <label>
                Start date
                <div class="date-input-wrap">
                  <input type="date" id="startDate" required />
                  <button type="button" class="small-btn date-btn" data-date-target="startDate" aria-label="Open start date calendar">ğŸ“…</button>
                </div>
              </label>
              <label>
                End date
                <div class="date-input-wrap">
                  <input type="date" id="endDate" required />
                  <button type="button" class="small-btn date-btn" data-date-target="endDate" aria-label="Open end date calendar">ğŸ“…</button>
                </div>
              </label>

              <div class="full-width duration-presets">
                <span style="color: var(--muted); font-size: 12px; margin-right: 8px;">Quick Duration:</span>
                <button type="button" class="preset-btn" data-days="7">1 Week</button>
                <button type="button" class="preset-btn" data-days="14">2 Weeks</button>
                <button type="button" class="preset-btn" data-days="30">1 Month</button>
                <button type="button" class="preset-btn" data-days="60">2 Months</button>
                <button type="button" class="preset-btn" data-days="90">3 Months</button>
              </div>

              <fieldset class="role-selector">
                <legend>Job Role Category (auto-selects recommended platforms)</legend>
                <div class="role-grid">
                  <select id="jobRoleSelect">
                    <option value="">-- Select a job role --</option>
                    <optgroup label="Healthcare">
                      <option value="healthcare-nurse">ğŸ‘©â€âš•ï¸ Nurse / Care Worker</option>
                      <option value="healthcare-doctor">ğŸ©º Doctor / Medical Professional</option>
                      <option value="healthcare-support">ğŸ’Š Healthcare Support Staff</option>
                    </optgroup>
                    <optgroup label="Hospitality & Catering">
                      <option value="hospitality-catering">ğŸ³ Catering Assistant / Chef</option>
                      <option value="hospitality-hotel">ğŸ¨ Hotel / Restaurant Staff</option>
                      <option value="hospitality-events">ğŸª Events & Conference Staff</option>
                    </optgroup>
                    <optgroup label="Technology & IT">
                      <option value="tech-developer">ğŸ’» Software Developer / Engineer</option>
                      <option value="tech-designer">ğŸ¨ Web Designer / UX Designer</option>
                      <option value="tech-data">ğŸ“Š Data Analyst / Data Scientist</option>
                      <option value="tech-it-support">ğŸ–¥ï¸ IT Support / Sysadmin</option>
                    </optgroup>
                    <optgroup label="Business & Finance">
                      <option value="finance-accountant">ğŸ“ˆ Accountant / Finance</option>
                      <option value="business-manager">ğŸ‘” Manager / Executive</option>
                      <option value="business-sales">ğŸ“ Sales / Business Development</option>
                      <option value="business-hr">ğŸ‘¥ HR / Recruitment</option>
                    </optgroup>
                    <optgroup label="Education">
                      <option value="education-teacher">ğŸ“š Teacher / Lecturer</option>
                      <option value="education-tutor">âœï¸ Tutor / Teaching Assistant</option>
                    </optgroup>
                    <optgroup label="Skilled Trades">
                      <option value="trades-construction">ğŸ—ï¸ Construction / Builder</option>
                      <option value="trades-electrician">âš¡ Electrician / Plumber</option>
                      <option value="trades-mechanic">ğŸ”§ Mechanic / Technician</option>
                    </optgroup>
                    <optgroup label="Retail & Customer Service">
                      <option value="retail-store">ğŸ›’ Retail Assistant / Cashier</option>
                      <option value="retail-customer">ğŸ“± Customer Service / Call Centre</option>
                    </optgroup>
                    <optgroup label="Logistics & Warehouse">
                      <option value="logistics-driver">ğŸšš Driver / Delivery</option>
                      <option value="logistics-warehouse">ğŸ“¦ Warehouse / Picker Packer</option>
                    </optgroup>
                    <optgroup label="Creative & Marketing">
                      <option value="creative-marketing">ğŸ“£ Marketing / Digital Marketing</option>
                      <option value="creative-design">ğŸ–¼ï¸ Graphic Designer / Creative</option>
                      <option value="creative-content">âœï¸ Content Writer / Copywriter</option>
                    </optgroup>
                    <optgroup label="Employment Type">
                      <option value="type-parttime">â° Part-Time / Flexible</option>
                      <option value="type-fulltime">ğŸ’¼ Full-Time Professional</option>
                      <option value="type-temporary">ğŸ“… Temporary / Contract</option>
                      <option value="type-graduate">ğŸ“ Graduate / Entry Level</option>
                    </optgroup>
                  </select>
                  <div id="roleDescription" class="role-description"></div>
                </div>
              </fieldset>

              <fieldset class="platform-selector">
                <legend>Select advertisement platforms</legend>
                <div class="quick-actions">
                  <button type="button" id="selectAllBtn" class="small-btn">Select All</button>
                  <button type="button" id="selectNoneBtn" class="small-btn">Clear All</button>
                  <span id="platformSuggestion" class="platform-suggestion"></span>
                </div>
                <div id="platformCheckboxList" class="checkbox-grid"></div>
              </fieldset>

              <button type="submit" class="primary-btn">ğŸ“Š Analyze Budget</button>
            </form>
          </div>

          <div class="panel">
            <h2>Estimated Budget</h2>
            <div id="emptyState" class="empty-state">
              <p style="margin: 0 0 8px;">ğŸ“‹ No analysis yet</p>
              Fill in campaign details and click <strong>Analyze Budget</strong> to see your cost breakdown.
            </div>

            <div id="results" class="hidden">
              <div class="summary-cards">
                <article class="card">
                  <p>Total Budget</p>
                  <h3 id="totalBudget">Â£0</h3>
                  <small id="totalBudgetMeta" class="card-meta">United Kingdom â€¢ GBP</small>
                </article>
                <article class="card">
                  <p>Duration</p>
                  <h3 id="durationDays">0 days</h3>
                  <small class="card-meta" id="durationMeta">-</small>
                </article>
                <article class="card">
                  <p>Platforms</p>
                  <h3 id="platformCount">0</h3>
                  <small class="card-meta">selected</small>
                </article>
              </div>

              <div class="action-row export-row">
                <button type="button" id="exportCsvBtn" class="ghost-btn" disabled>ğŸ“„ Export CSV</button>
                <button type="button" id="exportPdfBtn" class="ghost-btn" disabled>ğŸ“‘ Export PDF</button>
                <button type="button" id="copyReportBtn" class="ghost-btn" disabled>ğŸ“‹ Copy Report</button>
                <button type="button" id="copyTableBtn" class="ghost-btn" disabled>ğŸ“Š Copy Table</button>
                <button type="button" id="copyChartBtn" class="ghost-btn" disabled>ğŸ–¼ï¸ Copy Chart</button>
              </div>

              <div class="viz-grid">
                <section class="viz-card">
                  <h3>Platform Cost Split</h3>
                  <div id="barChart" class="bar-chart"></div>
                </section>
                <section class="viz-card">
                  <div class="viz-card-header">
                    <h3>Share by Platform</h3>
                    <button type="button" id="copyPieChartBtn" class="small-btn" disabled>ğŸ“‹ Copy</button>
                  </div>
                  <div class="donut-wrap">
                    <div id="donut" class="donut">
                      <div id="donutCenter" class="donut-center"></div>
                    </div>
                    <ul id="donutLegend" class="legend"></ul>
                  </div>
                </section>
              </div>

              <section class="table-wrap">
                <h3>Detailed Breakdown</h3>
                <table>
                  <thead>
                    <tr>
                      <th>Platform</th>
                      <th>Pricing Model</th>
                      <th>Rate</th>
                      <th>Units</th>
                      <th>Estimated Cost</th>
                    </tr>
                  </thead>
                  <tbody id="breakdownBody"></tbody>
                </table>
              </section>
            </div>
          </div>
        </section>

        <section id="config" class="tab-panel">
          <div class="panel">
            <h2>Rate Card Configuration</h2>
            <p class="subtitle">
              Manage your platform rates for the selected market. Add new platforms or update existing rates.
            </p>

            <form id="platformForm" class="form-grid compact">
              <input type="hidden" id="editingId" />
              <label>
                Platform name
                <input type="text" id="platformName" placeholder="e.g., Indeed, LinkedIn" required />
              </label>
              <label>
                Pricing model
                <select id="pricingModel" required>
                  <option value="perDay">Per Day</option>
                  <option value="perWeek">Per Week</option>
                  <option value="perPost">Per Post (Fixed)</option>
                </select>
              </label>
              <label>
                Rate
                <input type="number" id="rate" min="0" step="0.01" placeholder="0.00" required />
              </label>
              <label>
                Minimum Charge
                <input type="number" id="minCharge" min="0" step="0.01" value="0" placeholder="0.00" />
              </label>
              <label class="full-width">
                Notes
                <input type="text" id="notes" placeholder="Optional notes about this platform..." />
              </label>
              <div class="action-row full-width">
                <button type="submit" class="primary-btn">ğŸ’¾ Save Platform</button>
                <button type="button" id="clearFormBtn" class="ghost-btn">Clear Form</button>
                <button type="button" id="resetDefaultsBtn" class="danger-btn">ğŸ”„ Reset to Defaults</button>
              </div>
            </form>

            <section class="table-wrap">
              <h3>Configured Platforms</h3>
              <table>
                <thead>
                  <tr>
                    <th>Platform</th>
                    <th>Model</th>
                    <th>Rate</th>
                    <th>Minimum</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="platformTableBody"></tbody>
              </table>
            </section>
          </div>
        </section>
      </main>
    </div>

    <!-- Toast Notifications Container -->
    <div id="toastContainer" class="toast-container" aria-live="polite"></div>

    <script src="./script.js"></script>
  </body>
</html>
